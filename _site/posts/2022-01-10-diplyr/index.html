<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Franklin Santos: Transformación de datos con dplyr</title>

<meta property="description" itemprop="description" content="Utilice verbos `dplyr` básicos para filtrar filas, seleccionar columnas y ordenar/organizar conjuntos de datos en combinación con el operador pipe `%&gt;%`."/>

<link rel="canonical" href="https://franklinsantos.com/posts/2022-01-10-diplyr/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2022-01-10"/>
<meta property="article:created" itemprop="dateCreated" content="2022-01-10"/>
<meta name="article:author" content="Franklin Santos"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Franklin Santos: Transformación de datos con dplyr"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Utilice verbos `dplyr` básicos para filtrar filas, seleccionar columnas y ordenar/organizar conjuntos de datos en combinación con el operador pipe `%&gt;%`."/>
<meta property="og:url" content="https://franklinsantos.com/posts/2022-01-10-diplyr/"/>
<meta property="og:image" content="https://franklinsantos.com/posts/2022-01-10-diplyr/fs.png"/>
<meta property="og:image:width" content="2214"/>
<meta property="og:image:height" content="2556"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Franklin Santos"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Franklin Santos: Transformación de datos con dplyr"/>
<meta property="twitter:description" content="Utilice verbos `dplyr` básicos para filtrar filas, seleccionar columnas y ordenar/organizar conjuntos de datos en combinación con el operador pipe `%&gt;%`."/>
<meta property="twitter:url" content="https://franklinsantos.com/posts/2022-01-10-diplyr/"/>
<meta property="twitter:image" content="https://franklinsantos.com/posts/2022-01-10-diplyr/fs.png"/>
<meta property="twitter:image:width" content="2214"/>
<meta property="twitter:image:height" content="2556"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Franklin Santos: Transformación de datos con dplyr"/>
<meta name="citation_fulltext_html_url" content="https://franklinsantos.com/posts/2022-01-10-diplyr/"/>
<meta name="citation_online_date" content="2022/01/10"/>
<meta name="citation_publication_date" content="2022/01/10"/>
<meta name="citation_author" content="Franklin Santos"/>
<meta name="citation_author_institution" content="Agritech Bolivia"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","preview","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Transformación de datos con dplyr"]},{"type":"character","attributes":{},"value":["Utilice verbos `dplyr` básicos para filtrar filas, seleccionar columnas y ordenar/organizar conjuntos de datos en combinación con el operador pipe `%>%`."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","orcid_id"]}},"value":[{"type":"character","attributes":{},"value":["Franklin Santos"]},{"type":"character","attributes":{},"value":["https://franklinsantos.com"]},{"type":"character","attributes":{},"value":["Agritech Bolivia"]},{"type":"character","attributes":{},"value":["0000-0002-7509-2910"]}]}]},{"type":"character","attributes":{},"value":["01-10-2022"]},{"type":"character","attributes":{},"value":["fs.png"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["https://franklinsantos.com/posts/2022-01-10-diplyr/"]},{"type":"character","attributes":{},"value":["https://franklinsantos.com/posts/2022-01-10-diplyr/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["diplyr_files/anchor-4.2.2/anchor.min.js","diplyr_files/bowser-1.9.3/bowser.min.js","diplyr_files/distill-2.2.21/template.v2.js","diplyr_files/header-attrs-2.10/header-attrs.js","diplyr_files/jquery-1.11.3/jquery.min.js","diplyr_files/popper-2.6.0/popper.min.js","diplyr_files/tippy-6.2.7/tippy-bundle.umd.min.js","diplyr_files/tippy-6.2.7/tippy-light-border.css","diplyr_files/tippy-6.2.7/tippy.css","diplyr_files/tippy-6.2.7/tippy.umd.min.js","diplyr_files/webcomponents-2.0.0/webcomponents.js","fs.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.10/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<style type="text/css">

d-article div.sourceCode pre {
  overflow-x: scroll !important;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f6f8fa;
  border-left: 0;
}

:root {
  --green: #212D2C;
  --sky: #A9FDFF;
}

.my-color {
  background-color: var(--green);
  color: var(--sky); 
  padding: 1em;
}

.distill-site-nav {
  color: #ffffff;
  font-weight: 400;
  background: #24292e;
  border-bottom: 2px solid #DECF40;
  -webkit-box-shadow: 1px 1px 18px #4d4d4d;
  -moz-box-shadow: 1px 1px 18px #4d4d4d;
  box-shadow: 1px 1px 18px #4d4d4d;
}

.distill-site-nav a:hover {
  color: white;
  font-weight: 700;
}

d-title {
  background: #575757;
  color: white;
}

.distill-site-footer {
  border-top: 2px solid #DECF40;
  border-bottom: 0;
}

</style>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Transformación de datos con dplyr","description":"Utilice verbos `dplyr` básicos para filtrar filas, seleccionar columnas y ordenar/organizar conjuntos de datos en combinación con el operador pipe `%>%`.","authors":[{"author":"Franklin Santos","authorURL":"https://franklinsantos.com","affiliation":"Agritech Bolivia","affiliationURL":"#","orcidID":"0000-0002-7509-2910"}],"publishedDate":"2022-01-10T00:00:00.000+00:00","citationText":"Santos, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://www.franklinsantos.com">
<img src="../../fsm.png" alt="Logo"/>
</a>
<a href="../../index.html" class="title">Franklin Santos</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../cv.pdf">CV</a>
<a href="../../blog.html">Blog</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="https://facebook.com/agritechbolivia">
<i class="fa fa-facebook" aria-hidden="true"></i>
</a>
<a href="https://twitter.com/FranklinSantosM">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
<a href="https://github.com/FranklinSantosM">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Transformación de datos con dplyr</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Utilice verbos <code>dplyr</code> básicos para filtrar filas, seleccionar columnas y ordenar/organizar conjuntos de datos en combinación con el operador pipe <code>%&gt;%</code>.</p></p>
</div>

<div class="d-byline">
  Franklin Santos <a href="https://franklinsantos.com" class="uri">https://franklinsantos.com</a> (Agritech Bolivia)
  
<br/>01-10-2022
</div>

<div class="d-article">
<style>
body {
text-align: justify}
</style>
<h2 id="introducción-a-dplyr">Introducción a dplyr</h2>
<p><strong>dplyr</strong> facilita el proceso de transformación de datos al proporcionar un marco enriquecido para manipular marcos de datos. Las funciones de <strong>dplyr</strong> se pueden concatenar a potentes canalizaciones de transformación para <em>seleccionar</em>, <em>filtrar</em>, <em>ordenar</em>, <em>unir</em> y <em>agregar</em> datos.</p>
<ul>
<li>Descubra lo que hace <strong>dplyr</strong></li>
<li>Obtenga una descripción general de Seleccionar, Filtrar y Ordenar</li>
<li>Descubra qué son las uniones, agregaciones y canalizaciones</li>
</ul>
<h3 id="qué-es-dplyr">¿Qué es dplyr?</h3>
<blockquote>
<p>Existe la broma de que el 80 % de la ciencia de datos está limpiando los datos y el 20 % se queja de limpiar los datos. — Anthony Goldbloom, fundador y CEO de Kaggle</p>
</blockquote>
<p>Tener datos <em>limpios</em> en cualquier proyecto de Data Science es muy importante, porque los resultados solo son tan buenos como los datos correctos. La limpieza de datos también es la parte que generalmente consume la mayor parte del tiempo y causa los mayores dolores para los científicos de datos. R ya ofrece un amplio conjunto de herramientas y funciones para manipular marcos de datos. Sin embargo, debido a su larga historia, el conjunto de herramientas base R disponible está fragmentado y es difícil de usar para nuevos usuarios.</p>
<p>El paquete <strong>dplyr</strong> facilita el proceso de transformación de datos a través de una colección consistente de funciones. Estas funciones admiten diferentes transformaciones en marcos de datos, que incluyen</p>
<ul>
<li>filtrar filas</li>
<li>seleccionar columnas</li>
<li>ordenar datos</li>
<li>agregar datos</li>
</ul>
<p>Múltiples marcos de datos también se pueden unir mediante valores de atributo comunes.</p>
<p>La coherencia de las funciones de <strong>dplyr</strong> mejora la usabilidad y permite al usuario conectar transformaciones para formar <em>canalizaciones de datos</em>. Estas canalizaciones también se pueden ver como un lenguaje de consulta de alto nivel, como p. Ej. el lenguaje SQL para consultas de bases de datos. Además, incluso es posible traducir las canalizaciones de datos creadas a otros back-end, incluidas las bases de datos.</p>
<h3 id="marco-de-funciones">Marco de funciones</h3>
<p>Cada función de transformación de datos en <strong>dplyr</strong> acepta un marco de datos como su primer parámetro de entrada y devuelve el marco de datos transformado como salida. Un plano para una función <strong>dplyr</strong> típica se ve así:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>transformed</span> <span class='op'>&lt;-</span> <span class='fu'>dplyr_function</span><span class='op'>(</span><span class='va'>my_data_frame</span>, 
                              <span class='va'>param_one</span>, 
                              <span class='va'>param_two</span>, 
                              <span class='va'>...</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>La función <code>dplyr_function</code> se puede personalizar aún más a través de argumentos adicionales (<code>param_one</code>, <code>param_two</code>) colocados después del primer parámetro de marco de datos (<code>my_data_frame</code>).</p>
<p>El poder real de <strong>dplyr</strong> viene con el operador pipe <code>%&gt;%</code> que permite a los usuarios concatenar funciones de <strong>dplyr</strong> a pipe de datos. Pipe inyecta el marco de datos resultante del cálculo anterior como primer argumento del siguiente. Una transformación de datos que consta de tres funciones se parece a:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>dplyr_function_three</span><span class='op'>(</span>
  <span class='fu'>dplyr_function_two</span><span class='op'>(</span>
    <span class='fu'>dplyr_function_one</span><span class='op'>(</span><span class='va'>input_data_frame</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>pero con <code>pipe</code> se puede escribir de la siguiente manera:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>input_data_frame</span> <span class='op'>%&gt;%</span>
  <span class='fu'>dplyr_function_one</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>dplyr_function_two</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>dplyr_function_three</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>El orden de lectura diferente de las funciones de transformación de datos en el orden de transformación real, hace que las canalizaciones sean más fáciles de leer que las llamadas a funciones anidadas.</p>
<h2 id="seleccionar-columnas-de-un-marco-de-datos">Seleccionar columnas de un marco de datos</h2>
<p>Para seleccionar sólo un conjunto específico de columnas de marcos de datos interesantes, <strong>dplyr</strong> ofrece la función <code>select()</code> para extraer columnas por nombres, índices y rangos. Incluso puede renombrar las columnas extraídas con <code>select()</code>.</p>
<ul>
<li>Aprenda a usar la función <code>select()</code></li>
<li>Seleccionar las columnas de un marco de datos por nombre o índice</li>
<li>Renombrar las columnas de un marco de datos</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>column_one</span>, <span class='va'>column_two</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, new_column_name <span class='op'>=</span> <span class='va'>current_column</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>column_start</span><span class='op'>:</span><span class='va'>column_end</span><span class='op'>)</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>index_one</span>, <span class='va'>index_two</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>index_start</span><span class='op'>:</span><span class='va'>index_end</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="seleccionando-por-nombre">Seleccionando por nombre</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>column_one</span>, <span class='va'>column_two</span>, <span class='va'>...</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>En este capítulo veremos el conjunto de datos <code>pres_results</code> del paquete <strong>politicaldata</strong>. Contiene datos sobre las elecciones presidenciales de EE.UU. desde 1976, convertidas en un Tibble para una mejor impresión.</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code># A tibble: 561 × 6
    year state total_votes   dem   rep   other
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
 1  1976 AK         123574 0.357 0.579 0.0549 
 2  1976 AL        1182850 0.557 0.426 0.0163 
 3  1976 AR         767535 0.650 0.349 0.00134
 4  1976 AZ         742719 0.398 0.564 0.0383 
 5  1976 CA        7803770 0.480 0.497 0.0230 
 6  1976 CO        1081440 0.426 0.540 0.0336 
 7  1976 CT        1386355 0.467 0.519 0.0138 
 8  1976 DC         168830 0.816 0.165 0.0169 
 9  1976 DE         235642 0.520 0.466 0.0144 
10  1976 FL        3150631 0.519 0.466 0.0143 
# … with 551 more rows</code></pre>
</div>
<p>Para este ejemplo, veremos el número total de votos en diferentes estados en diferentes elecciones. Como solo estamos interesados en la cantidad de personas que votaron, nos gustaría crear una versión personalizada del marco de datos <code>pres_results</code> que solo contenga las columnas <code>year</code>, <code>state</code> y <code>total_votes</code>. Para dicho filtrado, podemos usar la función <code>select()</code> del paquete <strong>dplyr</strong>.</p>
<p>La función <code>select()</code> toma un marco de datos como parámetro de entrada y nos permite decidir cuál de las columnas queremos mantener. El resultado de la función es un marco de datos con todas las filas, pero que contiene solo las columnas que seleccionamos explícitamente.</p>
<p>Podemos reducir nuestro conjunto de datos a solo <code>year</code>, <code>state</code> y <code>total_votes</code> de la siguiente manera:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>year</span>, <span class='va'>state</span>, <span class='va'>total_votes</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 561 × 3
    year state total_votes
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
 1  1976 AK         123574
 2  1976 AL        1182850
 3  1976 AR         767535
 4  1976 AZ         742719
 5  1976 CA        7803770
 6  1976 CO        1081440
 7  1976 CT        1386355
 8  1976 DC         168830
 9  1976 DE         235642
10  1976 FL        3150631
# … with 551 more rows</code></pre>
</div>
<p>Como primer parámetro pasamos el marco de datos <code>pres_results</code>, como parámetros restantes pasamos las columnas que queremos mantener para <code>select()</code>.</p>
<p>Además de mantener las columnas que queremos, la función <code>select()</code> también las mantiene en el mismo orden que especificamos en los parámetros de la función.</p>
<p>Si cambiamos el orden de los parámetros cuando llamamos a la función, las columnas de la salida cambian en consecuencia:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>total_votes</span>, <span class='va'>year</span>, <span class='va'>state</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 561 × 3
   total_votes  year state
         &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
 1      123574  1976 AK   
 2     1182850  1976 AL   
 3      767535  1976 AR   
 4      742719  1976 AZ   
 5     7803770  1976 CA   
 6     1081440  1976 CO   
 7     1386355  1976 CT   
 8      168830  1976 DC   
 9      235642  1976 DE   
10     3150631  1976 FL   
# … with 551 more rows</code></pre>
</div>
<h3 id="renombrar-nombres-de-columnas">Renombrar nombres de columnas</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, new_column_name <span class='op'>=</span> <span class='va'>current_column</span>, <span class='va'>...</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Además de definir las columnas que queremos conservar, también podemos cambiarles el nombre. Para hacer esto, necesitamos establecer el nuevo nombre de columna dentro de la función <code>select()</code> usando el comando</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>new_column_name</span> <span class='op'>=</span> <span class='va'>current_column</span>
</code></pre>
</div>
</div>
<p>En el siguiente ejemplo, seleccionamos las columnas <code>year</code>, <code>state</code> y <code>total_votes</code> pero cambiamos el nombre de la columna <code>year</code> a <code>Election</code> en la salida:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>pres_results</span>, Election <span class='op'>=</span> <span class='va'>year</span>, <span class='va'>state</span>, <span class='va'>total_votes</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 561 × 3
   Election state total_votes
      &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
 1     1976 AK         123574
 2     1976 AL        1182850
 3     1976 AR         767535
 4     1976 AZ         742719
 5     1976 CA        7803770
 6     1976 CO        1081440
 7     1976 CT        1386355
 8     1976 DC         168830
 9     1976 DE         235642
10     1976 FL        3150631
# … with 551 more rows</code></pre>
</div>
<h3 id="selección-por-rango-de-nombre">Selección por rango de nombre</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>column_start</span><span class='op'>:</span><span class='va'>column_end</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Cuando usamos la función <code>select()</code> y definimos las columnas que queremos mantener, <strong>dplyr</strong> en realidad no usa el nombre de las columnas sino el índice de las columnas en el marco de datos. Esto significa que, cuando definimos las primeras tres columnas del marco de datos <code>pres_results</code>, <code>year</code>, <code>state</code> y <code>total_votes</code>, <strong>dplyr</strong> convierte estos nombres en los valores de índice <code>1</code>, <code>2</code> y <code>3</code>. Por lo tanto, también podemos usar el nombre de las columnas, aplicar el operador <code>:</code> y definir rangos de columnas, que queremos mantener:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>year</span><span class='op'>:</span><span class='va'>total_votes</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 561 × 3
    year state total_votes
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
 1  1976 AK         123574
 2  1976 AL        1182850
 3  1976 AR         767535
 4  1976 AZ         742719
 5  1976 CA        7803770
 6  1976 CO        1081440
 7  1976 CT        1386355
 8  1976 DC         168830
 9  1976 DE         235642
10  1976 FL        3150631
# … with 551 more rows</code></pre>
</div>
<p>Lo que hace <code>year:total_votes</code>, se puede traducir a <code>1:3</code>, que es simplemente crear un vector de valores numéricos del 1 al 3. Luego, la función <code>select()</code> toma el marco de datos <code>pres_results</code> y genera un subconjunto del mismo, manteniendo solo Las primeras tres columnas.</p>
<h3 id="select-por-índices">Select() por índices</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>index_one</span>, <span class='va'>index_two</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>index_start</span><span class='op'>:</span><span class='va'>index_end</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>La función <code>select()</code> también se puede usar con índices de columna. En lugar de usar nombres, debemos especificar las columnas que queremos seleccionar por sus índices. En comparación con otros lenguajes de programación, la indexación en R comienza con <em>uno</em> en lugar de <em>cero</em>. Para seleccionar la primera, cuarta y quinta columna del conjunto de datos <code>pres_results</code> podemos escribir</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='fl'>1</span>,<span class='fl'>4</span>,<span class='fl'>5</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 561 × 3
    year   dem   rep
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  1976 0.357 0.579
 2  1976 0.557 0.426
 3  1976 0.650 0.349
 4  1976 0.398 0.564
 5  1976 0.480 0.497
 6  1976 0.426 0.540
 7  1976 0.467 0.519
 8  1976 0.816 0.165
 9  1976 0.520 0.466
10  1976 0.519 0.466
# … with 551 more rows</code></pre>
</div>
<p>De manera similar a la definición de rangos de columnas usando sus nombres, podemos definir rangos (o vectores) de valores de índice en su lugar:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>select</span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 561 × 3
    year state total_votes
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;
 1  1976 AK         123574
 2  1976 AL        1182850
 3  1976 AR         767535
 4  1976 AZ         742719
 5  1976 CA        7803770
 6  1976 CO        1081440
 7  1976 CT        1386355
 8  1976 DC         168830
 9  1976 DE         235642
10  1976 FL        3150631
# … with 551 more rows</code></pre>
</div>
<h2 id="filtrar-filas-de-marcos-de-datos">Filtrar filas de marcos de datos</h2>
<p>A menudo queremos operar sólo en un subconjunto específico de filas de un marco de datos. La función <strong>dplyr</strong> <code>filter()</code> proporciona una forma flexible de extraer las filas de interés en base a múltiples condiciones.</p>
<ul>
<li>Utilice la función <code>filter()</code> para ordenar las filas de un marco de datos que cumplan una condición específica</li>
<li>Filtrar un cuadro de datos por múltiples condiciones</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>condition</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>condition_one</span>, <span class='va'>condition_two</span>, <span class='va'>...</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="función-filter">Función filter()</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>condition</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>La función <code>filter()</code> toma un marco de datos y una o más expresiones de filtrado como parámetros de entrada. Procesa el marco de datos y mantiene solo las filas que cumplen con las expresiones de filtrado definidas. Estas expresiones pueden verse como reglas para la evaluación y el mantenimiento de filas. En la mayoría de los casos, se basan en operadores relacionales. Como ejemplo, podríamos filtrar el marco de datos <code>pres_results</code> y mantener solo las filas, donde la variable de <code>state</code> es igual a <code>"CA"</code> (California):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>state</span> <span class='op'>==</span> <span class='st'>"CA"</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 11 × 6
    year state total_votes   dem   rep  other
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1  1976 CA        7803770 0.480 0.497 0.0230
 2  1980 CA        8582938 0.359 0.527 0.114 
 3  1984 CA        9505041 0.413 0.575 0.0122
 4  1988 CA        9887065 0.476 0.511 0.0131
 5  1992 CA       11131721 0.460 0.326 0.213 
 6  1996 CA       10019469 0.511 0.382 0.107 
 7  2000 CA       10965822 0.534 0.417 0.0490
 8  2004 CA       12421353 0.543 0.444 0.0117
 9  2008 CA       13561900 0.610 0.370 0.0188
10  2012 CA       13038547 0.602 0.371 0.0246
11  2016 CA       14181595 0.617 0.316 0.0581</code></pre>
</div>
<p>En el resultado, podemos comparar los resultados de las elecciones en California para diferentes años.</p>
<p>Como otro ejemplo, podríamos filtrar el marco de datos <code>pres_results</code> y mantener solo aquellas filas, donde la variable <code>dem</code> (porcentaje de votos para el Partido Demócrata) es mayor que 0.85:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>dem</span> <span class='op'>&gt;</span> <span class='fl'>0.85</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 7 × 6
   year state total_votes   dem    rep   other
  &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
1  1984 DC         211288 0.854 0.137  0.00886
2  1996 DC         185726 0.852 0.0934 0.0513 
3  2000 DC         201894 0.852 0.0895 0.0563 
4  2004 DC         227586 0.892 0.0934 0.0125 
5  2008 DC         265853 0.925 0.0653 0.00582
6  2012 DC         293764 0.909 0.0728 0.0155 
7  2016 DC         312575 0.905 0.0407 0.0335 </code></pre>
</div>
<p>En el resultado podemos ver para cada año electoral los estados donde el Partido Demócrata obtuvo más del 85% de los votos. Según los resultados, podríamos decir que el Partido Demócrata tiene una base sólida de votantes en el Distrito de Columbia (conocido como Washington, D.C.).</p>
<h3 id="múltiples-expresiones-de-filtro">Múltiples expresiones de filtro</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>condition_one</span>, <span class='va'>condition_two</span>, <span class='va'>...</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>La función <code>filter()</code> también puede tomar múltiples reglas de filtrado como entrada. Estos pueden verse como una combinación de reglas con el operador <code>&amp;</code>. Para que una fila se incluya en la salida, todas las reglas de filtrado deben cumplirse. En el siguiente ejemplo, filtramos el marco de datos <code>pres_results</code> para todas las filas donde la variable <code>state</code> es igual a <code>"CA"</code> y la variable de <code>year</code> es igual a 2016:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>state</span> <span class='op'>==</span> <span class='st'>"CA"</span>, <span class='va'>year</span><span class='op'>==</span><span class='fl'>2016</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 1 × 6
   year state total_votes   dem   rep  other
  &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
1  2016 CA       14181595 0.617 0.316 0.0581</code></pre>
</div>
<p>Obtenemos una sola fila como salida, que contiene los resultados de las elecciones presidenciales de 2016 en los Estados Unidos para el estado de California.</p>
<p><strong>Ejercicio: Usar filter() con múltiples reglas</strong> El conjunto de datos del <code>gapminder</code> contiene datos económicos y demográficos sobre diversos países desde 1952. Filtra el tibble e inspecciona qué países tenían una esperanza de vida de más de 80 años en el año 2007. Los paquetes necesarios ya están cargados.</p>
<ol type="1">
<li>Utiliza la función <code>filter()</code> en el tibble de gapminder.</li>
<li>Filtra todas las filas en las que la variable <code>year</code> es igual a 2007 y la esperanza de vida <code>lifeExp</code> es mayor de 80!</li>
</ol>
<p><strong>Solución</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>gapminder</span>, <span class='va'>year</span><span class='op'>==</span><span class='fl'>2007</span>, <span class='va'>lifeExp</span> <span class='op'>&gt;</span> <span class='fl'>80</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 13 × 6
   country          continent  year lifeExp       pop gdpPercap
   &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
 1 Australia        Oceania    2007    81.2  20434176    34435.
 2 Canada           Americas   2007    80.7  33390141    36319.
 3 France           Europe     2007    80.7  61083916    30470.
 4 Hong Kong, China Asia       2007    82.2   6980412    39725.
 5 Iceland          Europe     2007    81.8    301931    36181.
 6 Israel           Asia       2007    80.7   6426679    25523.
 7 Italy            Europe     2007    80.5  58147733    28570.
 8 Japan            Asia       2007    82.6 127467972    31656.
 9 New Zealand      Oceania    2007    80.2   4115771    25185.
10 Norway           Europe     2007    80.2   4627926    49357.
11 Spain            Europe     2007    80.9  40448191    28821.
12 Sweden           Europe     2007    80.9   9031088    33860.
13 Switzerland      Europe     2007    81.7   7554661    37506.</code></pre>
</div>
<p><strong>Ejercicio</strong> El conjunto de datos del <code>gapminder</code> contiene datos económicos y demográficos sobre diversos países desde 1952. Filtra el tibble de <code>gapminder</code> e inspecciona qué países tenían una población de más de 1.000.000.000 en el año 2007! Los paquetes necesarios ya están cargados.</p>
<ol type="1">
<li>Utiliza la función <code>filter()</code> en el tibble <code>gapminder</code>.</li>
<li>Filtra todas las filas donde la variable <code>year</code> es igual a 2007 y la población <code>pop</code> es mayor de 1000000000!</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>gapminder</span>, <span class='va'>year</span><span class='op'>==</span><span class='fl'>2007</span>, <span class='va'>pop</span> <span class='op'>&gt;</span> <span class='fl'>1000000000</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 2 × 6
  country continent  year lifeExp        pop gdpPercap
  &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;      &lt;int&gt;     &lt;dbl&gt;
1 China   Asia       2007    73.0 1318683096     4959.
2 India   Asia       2007    64.7 1110396331     2452.</code></pre>
</div>
<h2 id="ordenar-marcos-de-datos-por-columnas">Ordenar marcos de datos por columnas</h2>
<p>Para seleccionar las áreas de interés en un marco de datos, a menudo es necesario ordenarlas por columnas específicas. La función <strong>dplyr</strong> <code>arrange()</code> permite ordenar los marcos de datos por múltiples columnas en orden ascendente y descendente.</p>
<ul>
<li>Utilice la función <code>arrange()</code> para ordenar los marcos de datos.</li>
<li>Ordene los marcos de datos por múltiples columnas usando <code>arrange()</code>.</li>
</ul>
<pre><code>arrange(my_data_frame, column_one)
arrange(my_data_frame, column_one, column_two, ...)</code></pre>
<h3 id="la-función-arrange-con-una-sola-columna">La función arrange() con una sola columna</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>arrange</span><span class='op'>(</span><span class='va'>my_data_frame</span>, <span class='va'>column_one</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>La función <code>arrange()</code> ordena las filas de un marco de datos. Toma un marco de datos o un tibble como primer parámetro y los nombres de las columnas en función de los cuales las filas deben ordenarse como parámetros adicionales. Supongamos que queremos responder la pregunta: <em>¿Qué estados tuvieron el mayor porcentaje de votantes republicanos en las elecciones presidenciales de 2016 en los Estados Unidos?</em> Para responder a esta pregunta, en el siguiente ejemplo usamos el marco de datos <code>pres_results_2016</code>, que contiene información solo para las elecciones presidenciales de EE.UU. de 2016. Nuestra función <code>arrange()</code> en el marco de datos <code>rep</code> basado en la columna (votos republicanos en porcentaje):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pres_results_2016</span> <span class='op'>&lt;-</span> <span class='va'>pres_results</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>==</span><span class='fl'>2016</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>arrange</span><span class='op'>(</span><span class='va'>pres_results_2016</span>, <span class='va'>rep</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 51 × 6
    year state total_votes   dem    rep  other
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1  2016 DC         312575 0.905 0.0407 0.0335
 2  2016 HI         437664 0.610 0.294  0.0958
 3  2016 VT         320467 0.557 0.298  0.0737
 4  2016 CA       14181595 0.617 0.316  0.0581
 5  2016 MA        3378821 0.591 0.323  0.0858
 6  2016 MD        2781446 0.603 0.339  0.0415
 7  2016 NY        7802084 0.584 0.361  0.0530
 8  2016 WA        3317019 0.525 0.368  0.0738
 9  2016 IL        5536424 0.558 0.388  0.0517
10  2016 RI         464144 0.544 0.389  0.0466
# … with 41 more rows</code></pre>
</div>
<p>Como puede ver en la salida, el marco de datos se ordena en orden ascendente según la columna <code>rep</code>. Sin embargo, preferiríamos tener los resultados en orden descendente, para que podamos ver instantáneamente <code>state</code> con el mayor porcentaje de repeticiones. Para ordenar una columna en orden descendente, todo lo que tenemos que hacer es aplicar la función <code>desc()</code> en la columna dada dentro de la función <code>arrange()</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>arrange</span><span class='op'>(</span><span class='va'>pres_results_2016</span>, <span class='fu'>desc</span><span class='op'>(</span><span class='va'>rep</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 51 × 6
    year state total_votes   dem   rep  other
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1  2016 WV         713051 0.265 0.686 0.0489
 2  2016 WY         258788 0.216 0.674 0.0830
 3  2016 OK        1452992 0.289 0.653 0.0575
 4  2016 ND         344360 0.272 0.630 0.0971
 5  2016 KY        1924149 0.327 0.625 0.0476
 6  2016 AL        2123372 0.344 0.621 0.0254
 7  2016 SD         370093 0.317 0.615 0.0673
 8  2016 TN        2508027 0.347 0.607 0.0401
 9  2016 AR        1130635 0.337 0.606 0.0577
10  2016 ID         690255 0.275 0.593 0.132 
# … with 41 more rows</code></pre>
</div>
<p>La organización no solo es posible en valores numéricos, sino también en valores de caracteres. En ese caso, <strong>dplyr</strong> ordena las filas en orden alfabético. Podemos organizar columnas de caracteres como las numéricas:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>arrange</span><span class='op'>(</span><span class='va'>pres_results_2016</span>, <span class='va'>state</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 51 × 6
    year state total_votes   dem    rep  other
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1  2016 AK         318608 0.366 0.513  0.0928
 2  2016 AL        2123372 0.344 0.621  0.0254
 3  2016 AR        1130635 0.337 0.606  0.0577
 4  2016 AZ        2573165 0.451 0.487  0.0547
 5  2016 CA       14181595 0.617 0.316  0.0581
 6  2016 CO        2780220 0.482 0.433  0.0859
 7  2016 CT        1644920 0.546 0.409  0.0435
 8  2016 DC         312575 0.905 0.0407 0.0335
 9  2016 DE         441590 0.534 0.419  0.0472
10  2016 FL        9420039 0.478 0.490  0.0315
# … with 41 more rows</code></pre>
</div>
<h3 id="la-función-arrange-con-múltiples-columnas">La función arrange() con múltiples columnas</h3>
<p>También podemos usar la función <code>arrange()</code> en varias columnas. En este caso, el orden de las columnas en los parámetros de la función establece una jerarquía de ordenamiento. La función comienza ordenando las filas en función de la primera columna definida en los parámetros. En caso de que haya varias filas con el mismo valor, la función decide el orden en función de la segunda columna definida en los parámetros. Si todavía hay varias filas con los mismos valores, la función decide en función de la tercera columna definida en los parámetros (si está definida) y así sucesivamente.</p>
<p>En el siguiente ejemplo, utilizamos el marco de datos <code>pres_results_subset</code>, que contiene los resultados de las elecciones solo para los estados: <code>"TX"</code> (Texas), <code>"UT"</code> (Utah) y <code>"FL"</code> (Florida). Primero ordenamos el marco de datos en orden descendente según la columna de year. Luego, agregamos un segundo nivel y ordenamos el marco de datos basado en la columna <code>dem</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pres_results_subset</span> <span class='op'>&lt;-</span> <span class='va'>pres_results</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>state</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"TX"</span>,
                      <span class='st'>"UT"</span>,
                      <span class='st'>"FL"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='fu'>arrange</span><span class='op'>(</span><span class='va'>pres_results_subset</span>, <span class='va'>year</span>, <span class='va'>dem</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 33 × 6
    year state total_votes   dem   rep    other
   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1  1976 UT         541218 0.336 0.624 0.0392  
 2  1976 TX        4071884 0.511 0.480 0.00817 
 3  1976 FL        3150631 0.519 0.466 0.0143  
 4  1980 UT         604152 0.206 0.728 0.0665  
 5  1980 FL        3686927 0.385 0.555 0.0597  
 6  1980 TX        4541636 0.414 0.553 0.0329  
 7  1984 UT         629656 0.247 0.745 0.00823 
 8  1984 FL        4180051 0.347 0.653 0.000212
 9  1984 TX        5397571 0.361 0.636 0.00275 
10  1988 UT         647008 0.320 0.662 0.0173  
# … with 23 more rows</code></pre>
</div>
<p>Como puede ver en la salida, el marco de datos se ordena en general en función de la columna <code>year</code>. Sin embargo, cuando el valor de <code>year</code> es el mismo, el orden de las filas lo decide la columna <code>dem</code>.</p>
<h2 id="crear-una-tubería-de-transformación-de-datos">Crear una tubería de transformación de datos</h2>
<p>Todas las funciones de transformación de datos en <strong>dplyr</strong> pueden ser conectadas a través del operador de tubería (pipe) <code>%&gt;%</code> para crear poderosas y a la vez expresivas tuberías de transformación de datos.</p>
<ul>
<li>Utilice el operador pipe <code>%&gt;%</code> para combinar múltiples funciones <strong>dplyr</strong> en una tubería</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>my_data_frame <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(___) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(___) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(___)</span></code></pre></div>
</div>
<h3 id="usando-el-operador">Usando el operador %&gt;%</h3>
<p>El operador pipe <code>%&gt;%</code> es una parte especial del universo <code>tidyverse</code>. Se utiliza para combinar múltiples funciones y ejecutarlas una tras otra. En esta configuración, la entrada de cada función es la salida de la función anterior. Imagine que tenemos el marco de datos <code>pres_results</code> y queremos crear un marco de datos más pequeño y transparente para responder a la pregunta: <em>¿En qué estados fue el partido democrático la opción más popular en las elecciones presidenciales de 2016 en los Estados Unidos?</em> Para lograr esta tarea, deberíamos seguir los siguientes pasos:</p>
<ol type="1">
<li><code>filter()</code> el marco de datos para las filas, donde la variable <code>year</code> es igual a 2016</li>
<li><code>select()</code> las dos variables <code>state</code> y <code>dem</code>, ya que no estamos interesados en el resto de las columnas.</li>
<li><code>arrange()</code> el marco de datos filtrado y seleccionado en función de la columna <code>dem</code> de forma descendente.</li>
</ol>
<p>Los pasos y funciones descritos anteriormente deben ejecutarse uno tras otro, donde la entrada de cada función es la salida del paso anterior. Aplicando las cosas que aprendió hasta ahora, puede realizar esta tarea siguiendo los siguientes pasos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>pres_results</span>, <span class='va'>year</span><span class='op'>==</span><span class='fl'>2016</span><span class='op'>)</span>
<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'>select</span><span class='op'>(</span><span class='va'>result</span>, <span class='va'>state</span>, <span class='va'>dem</span><span class='op'>)</span>
<span class='va'>result</span> <span class='op'>&lt;-</span> <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>result</span>, <span class='fu'>desc</span><span class='op'>(</span><span class='va'>dem</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>tibble</span><span class='op'>(</span><span class='va'>result</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 51 × 2
   state   dem
   &lt;chr&gt; &lt;dbl&gt;
 1 DC    0.905
 2 CA    0.617
 3 HI    0.610
 4 MD    0.603
 5 MA    0.591
 6 NY    0.584
 7 IL    0.558
 8 VT    0.557
 9 NJ    0.555
10 CT    0.546
# … with 41 more rows</code></pre>
</div>
<p>La primera función toma el marco de datos <code>pres_results</code>, lo filtra de acuerdo con la descripción de la tarea y lo asigna a la variable <code>result</code>. Luego, cada función posterior toma la variable <code>result</code> como entrada y la sobrescribe con su propia salida.</p>
<p>El operador <code>%&gt;%</code> proporciona una forma práctica de combinar los pasos anteriores en aparentemente un paso. Toma un marco de datos como entrada inicial. Luego, aplica una lista de funciones y pasa la salida de cada función para la entrada de la siguiente función. La misma tarea que la anterior se puede lograr usando el operador de tubería <code>%&gt;%</code> de esta manera:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>tibble</span><span class='op'>(</span>
<span class='va'>pres_results</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>==</span><span class='fl'>2016</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>state</span>, <span class='va'>dem</span>, <span class='va'>rep</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>dem</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 51 × 3
   state   dem    rep
   &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 DC    0.905 0.0407
 2 CA    0.617 0.316 
 3 HI    0.610 0.294 
 4 MD    0.603 0.339 
 5 MA    0.591 0.323 
 6 NY    0.584 0.361 
 7 IL    0.558 0.388 
 8 VT    0.557 0.298 
 9 NJ    0.555 0.414 
10 CT    0.546 0.409 
# … with 41 more rows</code></pre>
</div>
<p>Podemos interpretar el código de la siguiente manera:</p>
<ol type="1">
<li>Definimos el conjunto de datos original como punto de partida.</li>
<li>El uso del operador <code>%&gt;%</code> justo después del marco de datos le dice a <strong>dplyr</strong>, que viene una función, que toma el marco de datos previamente definido como entrada.</li>
<li>Usamos cada función como de costumbre, pero omite el primer parámetro. La entrada del marco de datos se proporciona automáticamente por la salida del paso anterior.</li>
<li>Mientras agreguemos el operador <code>%&gt;%</code> después de un paso, <strong>dplyr</strong> esperará un paso adicional.</li>
<li>En nuestro ejemplo, la tubería se cierra con una función <code>arrange()</code>. Obtiene la versión filtrada y seleccionada del marco de datos <code>pres_results</code> como entrada y la ordena en función de la columna <code>dem</code> de forma descendente. Finalmente, devuelve la salida.</li>
</ol>
<p>Una diferencia entre los dos enfoques es que el operador <code>%&gt;%</code> no guarda permanentemente los resultados intermedios o finales. Para guardar el marco de datos resultante, debemos asignar la salida a una variable:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>result</span> <span class='op'>&lt;-</span> <span class='va'>pres_results</span> <span class='op'>%&lt;&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>==</span><span class='fl'>2016</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>state</span>, <span class='va'>dem</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>dem</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>tibble</span><span class='op'>(</span><span class='va'>result</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 51 × 2
   state   dem
   &lt;chr&gt; &lt;dbl&gt;
 1 DC    0.905
 2 CA    0.617
 3 HI    0.610
 4 MD    0.603
 5 MA    0.591
 6 NY    0.584
 7 IL    0.558
 8 VT    0.557
 9 NJ    0.555
10 CT    0.546
# … with 41 more rows</code></pre>
</div>
<h3 id="ejercicios">Ejercicios:</h3>
<p><strong>Esperanza de vida austriaca</strong></p>
<p>Utiliza el operador <code>%&gt;%</code> en el conjunto de datos de <code>gapminder</code> y crea un simple marco de datos para responder a la siguiente pregunta: <em>¿Cómo ha cambiado la esperanza de vida en Austria en las últimas décadas?</em> Los paquetes necesarios ya están cargados.</p>
<ol type="1">
<li>Defina el marco de datos de <code>gapminder</code> como el marco de datos de base</li>
<li>Filtra sólo las filas en las que la columna <code>country</code> es igual a <code>Austria</code> mediante la tubería <code>gapminder</code> a la función <code>filter()</code>.</li>
<li>Selecciona sólo las columnas: <code>year</code> y <code>lifeExp</code> del resultado filtrado.</li>
<li>Ordena los resultados en base a la columna <code>year</code> en función de las columnas seleccionadas.</li>
</ol>
<p><strong>Solución:</strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gapminder</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>country</span> <span class='op'>==</span> <span class='st'>"Austria"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>year</span>, <span class='va'>lifeExp</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 12 × 2
    year lifeExp
   &lt;int&gt;   &lt;dbl&gt;
 1  1952    66.8
 2  1957    67.5
 3  1962    69.5
 4  1967    70.1
 5  1972    70.6
 6  1977    72.2
 7  1982    73.2
 8  1987    74.9
 9  1992    76.0
10  1997    77.5
11  2002    79.0
12  2007    79.8</code></pre>
</div>
<p><strong>PIB europeo per cápita</strong></p>
<p>Utiliza el operador <code>%&gt;%</code> en el conjunto de datos de <code>gapminder</code> y crea un simple tibble para responder a la siguiente pregunta: <em>¿Qué país europeo tuvo el mayor PIB per cápita en 2007?</em> Los paquetes requeridos ya están cargados.</p>
<ol type="1">
<li>Defina el tibble de <code>gapminder</code> como la entrada</li>
<li>Filtra sólo las filas donde la columna <code>year</code> es igual a <code>2007</code></li>
<li>Usar una segunda capa de filtro y mantener sólo las filas donde la columna del continente es igual a <code>Europe</code></li>
<li>Seleccione sólo las columnas: <code>country</code> y <code>gdpPercap</code></li>
<li>Ordena los resultados basados en la columna <code>gdpPercap</code> de forma descendente</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gapminder</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>==</span> <span class='fl'>2007</span>, <span class='va'>continent</span> <span class='op'>==</span> <span class='st'>"Europe"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>country</span>, <span class='va'>gdpPercap</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>gdpPercap</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 30 × 2
   country     gdpPercap
   &lt;fct&gt;           &lt;dbl&gt;
 1 Norway         49357.
 2 Ireland        40676.
 3 Switzerland    37506.
 4 Netherlands    36798.
 5 Iceland        36181.
 6 Austria        36126.
 7 Denmark        35278.
 8 Sweden         33860.
 9 Belgium        33693.
10 Finland        33207.
# … with 20 more rows</code></pre>
</div>
<p><strong>Población de las Américas</strong></p>
<p>Utiliza el operador <code>%&gt;%</code> en el conjunto de datos de <code>gapminder</code> y crea un simple tibble para responder a la siguiente pregunta: <em>¿Qué país del continente americano tenía la mayor población en 2007?</em></p>
<ol type="1">
<li>Defina el tibble de <code>gapminder</code> como la entrada</li>
<li>Filtra sólo las filas donde la columna <code>year</code> es igual a <code>2007</code></li>
<li>Utilice una segunda capa de filtro y mantenga sólo las filas donde la columna del <code>continent</code> es igual a <code>Americas</code></li>
<li>Seleccione sólo las columnas: <code>country</code> y <code>pop</code></li>
<li>Arregla los resultados basados en la columna <code>pop</code> de forma descendente</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gapminder</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>==</span> <span class='fl'>2007</span>, <span class='va'>continent</span> <span class='op'>==</span> <span class='st'>"Americas"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>country</span>, <span class='va'>pop</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>pop</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 25 × 2
   country             pop
   &lt;fct&gt;             &lt;int&gt;
 1 United States 301139947
 2 Brazil        190010647
 3 Mexico        108700891
 4 Colombia       44227550
 5 Argentina      40301927
 6 Canada         33390141
 7 Peru           28674757
 8 Venezuela      26084662
 9 Chile          16284741
10 Ecuador        13755680
# … with 15 more rows</code></pre>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Transformaci%C3%B3n%20de%20datos%20con%20dplyr&amp;url=https%3A%2F%2Ffranklinsantos.com%2Fposts%2F2022-01-10-diplyr%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Ffranklinsantos.com%2Fposts%2F2022-01-10-diplyr%2F">
        <i class="fab fa-facebook"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Ffranklinsantos.com%2Fposts%2F2022-01-10-diplyr%2F&amp;title=Transformaci%C3%B3n%20de%20datos%20con%20dplyr">
        <i class="fab fa-linkedin"></i>
      </a>
    </span>
  </p>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Santos (2022, Jan. 10). Franklin Santos: Transformación de datos con dplyr. Retrieved from https://franklinsantos.com/posts/2022-01-10-diplyr/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{santos2022transformación,
  author = {Santos, Franklin},
  title = {Franklin Santos: Transformación de datos con dplyr},
  url = {https://franklinsantos.com/posts/2022-01-10-diplyr/},
  year = {2022}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
  <p>© 2021 Franklin Santos <a href="https://creativecommons.org/licenses/by-sa/4.0/"><svg style="height:14px;fill:#ededeb;" viewBox="0 0 496 512"><path d="M245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93-22.13 0-33.22 14.61-33.22 43.84 0 23.57 9.21 43.84 33.22 43.84 14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98-22.6 0-73.96-10.32-73.96-77.05 0-58.69 43-77.06 72.63-77.06 30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93-22.14 0-33.22 14.61-33.22 43.84 0 23.55 9.23 43.84 33.22 43.84 14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98-22.69 0-73.96-9.87-73.96-77.05 0-58.67 42.97-77.06 72.63-77.06 30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248 129.93 0 248.44-100.87 248.44-248 0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81 0-105.42 85.43-203.27 203.72-203.27 112.53 0 202.82 89.46 202.82 203.26-.01 121.69-99.68 202.82-202.84 202.82z"/></svg><svg style="height:14px;fill:#ededeb;" viewBox="0 0 496 512"><path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3 3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7 3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256 0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8 103.2 0 202.8-81.1 202.8-202.8.1-113.8-90.2-203.3-202.8-203.3z"/></svg><svg style="height:14px;fill:#ededeb;" viewBox="0 0 496 512"><path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256 0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8 103.2 0 202.8-81.1 202.8-202.8.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7 99.8 0 127.5 82.5 127.5 134.2 0 63.6-41 132.9-128.9 132.9-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2 23.3 0 58-18.2 58-82.8 0-82.5-49.1-80.6-56.7-80.6-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2-49-49.2h19.4z"/></svg></a> <br/><svg style="height:14px;fill:#ededeb;" viewBox="0 0 512 512"><path d="M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"/></svg> Made with <svg style="height:14px;fill:#ededeb;" viewBox="0 0 512 512"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>, <a href="https://github.com/FranklinSantosM"><svg style="height:14px;fill:#ededeb;" viewBox="0 0 384 512"><path d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/></svg></a>, and the <a href="https://cran.r-project.org/"><svg style="height:14px;fill:#ededeb;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg></a> <a href="https://github.com/rstudio/distill">distill</a> package</p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
